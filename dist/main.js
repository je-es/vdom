function f(e){return e===false||e===null||e===void 0||e===true}function q(e){return !e||typeof e!="object"?false:"type"in e&&"props"in e&&"children"in e}function u(e){return typeof e=="string"||typeof e=="number"}function v(e){let t=[];for(let r of e)Array.isArray(r)?t.push(...v(r)):f(r)||t.push(r);return t}function O(e){let t=[/<script[\s\S]*?<\/script>/gi,/javascript:/gi,/on\w+\s*=/gi,/<iframe[\s\S]*?<\/iframe>/gi,/<object[\s\S]*?<\/object>/gi,/<embed[\s\S]*?>/gi],r=e;for(let o of t)r=r.replace(o,"");return r}function W(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function U(e,t){if(e===t)return  true;if(typeof e!=typeof t||typeof e!="object"||e===null||t===null)return  false;let r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return  false;for(let n of r)if(e[n]!==t[n])return  false;return  true}var X=0;function Y(e="vdom"){return `${e}-${++X}-${Date.now()}`}function G(){return typeof window<"u"&&typeof document<"u"}function k(e,t){return e.childNodes[t]}function y(e){return typeof e=="function"}function C(e){return e.startsWith("on")&&e.length>2}function x(e){return e.substring(2).toLowerCase()}function w(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(w);let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=w(e[r]));return t}var p={devMode:process.env.NODE_ENV!=="production",sanitizeHTML:true,onError:void 0};function Z(e){p={...p,...e};}function _(){return {...p}}var V=class extends Error{constructor(r,o,n){super(r);this.vnode=o;this.context=n;this.name="VDOMError";}};function T(e,t,r){let o=e instanceof V?e:new V(e.message,t,r);if(p.onError)try{p.onError(o,t);}catch(n){console.error("Error in custom error handler:",n),console.error("Original error:",o);}else console.error("VDOM Error:",o.message),p.devMode&&t&&(console.error("VNode:",t),r&&console.error("Context:",r));}function N(e,t){p.devMode&&(console.warn(`[VDOM Warning]: ${e}`),t&&console.warn("VNode:",t));}function J(e,t){if(p.devMode&&!e)throw new V(`Assertion failed: ${t}`)}function P(e){let t=p.devMode?`[Render Error: ${e.message}]`:"[Render Error]";return document.createTextNode(t)}function S(e){return !e||typeof e!="object"?false:"type"in e&&"props"in e&&"children"in e?typeof e.type!="string"?(p.devMode&&N("Invalid VNode type: must be a string",e),false):Array.isArray(e.children)?true:(p.devMode&&N("Invalid VNode children: must be an array",e),false):(p.devMode&&N("Invalid VNode structure: missing required properties (type, props, children)",e),false)}function Q(e,t){return (...r)=>{try{return e(...r)}catch(o){return T(o,void 0,t),null}}}function m(e,t=null,...r){process.env.NODE_ENV!=="production"&&(!e||typeof e!="string")&&N(`Invalid element type: ${e}`);let o=v(r);if(e==="fragment")return {type:"fragment",props:{},children:o};let n=t?{...t}:{};return n.class&&!n.className&&(n.className=n.class,delete n.class),{type:e,props:n,children:o}}function ee(...e){return m("fragment",null,...e)}var te=m,re=m,ne=m,oe=m;var L={EVENT:"__EVENT_",VNODE:"__VNODE_",ARRAY:"__ARRAY_",VALUE:"__VALUE_"};function ie(e,...t){let r={eventHandlers:new Map,vnodes:new Map,arrays:new Map,plainValues:new Map},o="";for(let i=0;i<e.length;i++){let a=e[i];if(o+=a,i<t.length){let s=t[i];if(f(s)){s===false&&se(a)&&(o+="false");continue}let c=ae(s,i,r);o+=c;}}let n=ce(o,r);return D(n,r),n}function D(e,t){for(let[r,o]of Object.entries(e.props))if(r.startsWith("on")&&typeof o=="string"){if(t.eventHandlers.has(o)){e.props[r]=t.eventHandlers.get(o);continue}for(let[n,i]of t.eventHandlers)if(o.includes(n)){e.props[r]=i;break}}for(let r of e.children)r&&typeof r=="object"&&"type"in r&&D(r,t);}function se(e){let t=e.lastIndexOf("="),r=e.lastIndexOf(">");return t>r}function ae(e,t,r){if(Array.isArray(e)){let n=`${L.ARRAY}${t}__`;return r.arrays.set(n,e),n}if(typeof e=="function"){let n=`${L.EVENT}${t}__`;return r.eventHandlers.set(n,e),n}if(e&&typeof e=="object"&&"type"in e){let n=`${L.VNODE}${t}__`;return r.vnodes.set(n,e),n}let o=`${L.VALUE}${t}__`;return r.plainValues.set(o,e),o}function ce(e,t){let r=_(),o=e.trim();if(r.sanitizeHTML){let s=[],c=0;o=o.replace(/\s+(on\w+)="(__EVENT_\d+__)"/g,(l,d,h)=>{let g=`data-vdom-event-${c}="${h}"`;return s.push({placeholder:g,original:l}),c++,` ${g}`}),o=o.replace(/\s+(on\w+)=(__EVENT_\d+__)/g,(l,d,h)=>{let g=`data-vdom-event-${c}="${h}"`;return s.push({placeholder:g,original:l}),c++,` ${g}`}),o=O(o);for(let{placeholder:l,original:d}of s)o=o.replace(l,d);}let n=document.createElement("template");n.innerHTML=o;let i=n.content.firstChild;if(!i)return m("div",{},"");let a=j(i,t);return typeof a=="string"?m("span",{},a):a}function j(e,t){if(e.nodeType===Node.TEXT_NODE)return le(e.textContent||"",t);if(e.nodeType!==Node.ELEMENT_NODE)return "";let r=e,o=fe(r.attributes,t),n=ue(r.childNodes,t);return {type:r.tagName.toLowerCase(),props:o,children:n}}function le(e,t){for(let[o,n]of t.arrays)if(e.includes(o))return {type:"fragment",props:{},children:n.filter(i=>!f(i))};for(let[o,n]of t.vnodes)if(e.includes(o))return n;let r=e;for(let[o,n]of t.plainValues)r=r.replace(o,String(n));return r}function fe(e,t){let r={};for(let o of Array.from(e)){let{name:n,value:i}=o;if(n.startsWith("on")){r[n]=i;continue}if(n==="class"){r.className=H(i,t.plainValues).trim();continue}if(n==="checked"||n==="disabled"||n==="selected"||n==="required"){let a=H(i,t.plainValues);if(a==="false")continue;a==="true"||a===""?r[n]=true:r[n]=a;continue}r[n]=H(i,t.plainValues);}return r}function ue(e,t){let r=[];for(let o of Array.from(e))if(o.nodeType===Node.TEXT_NODE){let n=o.textContent||"",i=false;for(let[s,c]of t.arrays)if(n.includes(s)){r.push(...c.filter(l=>!f(l))),i=true;break}if(i)continue;let a=[];for(let[s,c]of t.vnodes)n.includes(s)&&c&&typeof c=="object"&&"type"in c&&a.push(c);if(a.length>0){r.push(...a);continue}if(n.trim()){let s=H(n,t.plainValues);s.trim()&&r.push(s);}}else if(o.nodeType===Node.ELEMENT_NODE){let n=j(o,t);n&&r.push(n);}return r}function H(e,t){let r=e;for(let[o,n]of t)r=r.replace(o,String(n));return r}var R=new Set(["checked","selected","disabled","readOnly","required","autoFocus","multiple","hidden","autoplay","controls","loop","muted","open","reversed"]);function b(e,t,r){for(let o in t)o in r||I(e,o,t[o]);for(let[o,n]of Object.entries(r))t[o]!==n&&$(e,o,n,t[o]);}function $(e,t,r,o){if(t==="children"||t==="key")return;if(C(t)){de(e,t,r,o);return}if(t==="ref"&&y(r)){r(e);return}if(t==="className"||t==="class"){pe(e,r);return}if(t==="style"){me(e,r);return}let n=r;if(t==="dangerouslySetInnerHTML"&&n?.__html){e.innerHTML=n?.__html;return}if(R.has(t)){he(e,t,r);return}ge(e,t,r);}function I(e,t,r){if(C(t)&&y(r)){let o=x(t);e.removeEventListener(o,r);return}if(t==="ref"&&y(r)){r(null);return}if(t==="className"||t==="class"){e.className="",e.removeAttribute("class");return}if(t==="style"){e.removeAttribute("style");return}if(R.has(t)){e.removeAttribute(t.toLowerCase());return}e.removeAttribute(t);}function de(e,t,r,o){if(!y(r)){process.env.NODE_ENV!=="production"&&N(`Event handler ${t} is not a function`);return}let n=x(t);o&&y(o)&&e.removeEventListener(n,o),e.addEventListener(n,r);}function pe(e,t){if(t==null||t===false){e.className="",e.removeAttribute("class");return}let r=String(t).trim();r?e.className=r:(e.className="",e.removeAttribute("class"));}function me(e,t){if(t==null){e.removeAttribute("style");return}if(typeof t=="string"){e.setAttribute("style",t);return}if(typeof t=="object")for(let[r,o]of Object.entries(t))o==null?e.style[r]="":e.style[r]=o;}function he(e,t,r){let o=t.toLowerCase();if(r===false||r===null||r===void 0){e.removeAttribute(o);return}e.setAttribute(o,"");}function ge(e,t,r){if(r==null||r===false){e.removeAttribute(t);return}e.setAttribute(t,String(r));}function E(e){try{if(u(e))return document.createTextNode(String(e));if(!S(e))throw new Error("Invalid VNode structure");return e.type==="fragment"?Ne(e):Ee(e)}catch(t){return T(t,typeof e=="object"?e:void 0,"createDOMElement"),P(t)}}function Ne(e){let t=document.createDocumentFragment();for(let r of e.children){if(f(r))continue;let o=u(r)?document.createTextNode(String(r)):E(r);t.appendChild(o);}return t}function Ee(e){let t=document.createElement(e.type);b(t,{},e.props);for(let r of e.children){if(f(r))continue;let o=u(r)?document.createTextNode(String(r)):E(r);t.appendChild(o);}return t}function ye(e,t){try{t.innerHTML="";let r=E(e);t.appendChild(r);}catch(r){T(r,e,"render");}}function Te(e,t,r,o){if(f(r)){if(!f(t)){let i=e.childNodes[o];i&&e.removeChild(i);}return}let n=f(t)?null:t;z(e,n,r,o);}function F(e,t,r){let o=Math.max(t.length,r.length);for(let n of Array.from({length:o},(i,a)=>a))Te(e,t[n],r[n],n);for(;e.childNodes.length>r.filter(n=>!f(n)).length;){let n=e.lastChild;n&&e.removeChild(n);}}function B(e,t,r){let o=new Map,n=[];for(let s of Array.from(e.children))n.push(s);let i=0;for(let s of t){if(f(s)||u(s))continue;let c=s,l=n[i];if(!l)break;if(c.props.key!=null){let d=c.props.key;o.set(d,{vnode:c,element:l});}i++;}let a=[];for(let s of r){if(f(s))continue;if(u(s)){let d=document.createTextNode(String(s));a.push(d);continue}let c=s,l=c.props.key;if(l!=null&&o.has(l)){let{vnode:d,element:h}=o.get(l);b(h,d.props,c.props);let g=d.children||[],A=c.children||[];A.some(M=>M&&typeof M=="object"&&"props"in M&&M.props.key!=null)?B(h,g,A):F(h,g,A),a.push(h),o.delete(l);}else {let d=E(c);a.push(d);}}for(;e.firstChild;)e.removeChild(e.firstChild);for(let s of a)e.appendChild(s);}function Ve(e,t,r){r.some(n=>n&&typeof n=="object"&&"props"in n&&n.props.key!=null)?B(e,t,r):F(e,t,r);}function be(e,t){let r=E(t);e.appendChild(r);}function Me(e,t){t&&t.parentNode===e&&e.removeChild(t);}function ve(e,t,r,o,n){let i=String(t),a=String(r);if(i!==a)if(n?.nodeType===Node.TEXT_NODE)n.textContent=a;else {let s=document.createTextNode(a);n?e.replaceChild(s,n):e.appendChild(s);}}function K(e,t,r){let o=E(t);r?e.replaceChild(o,r):e.appendChild(o);}function Ce(e,t){return e.type!==t.type||e.props.key!==t.props.key}function xe(e,t,r,o,n){let i,a=e.tagName.toLowerCase()===t.type&&e.tagName.toLowerCase()===r.type,s=n instanceof HTMLElement&&n.tagName.toLowerCase()!==t.type;if(a&&(!n||s))i=e;else if(n instanceof HTMLElement)i=n;else {K(e,r,n);return}b(i,t.props,r.props);let c=t.children||[],l=r.children||[];Ve(i,c,l);}function Le(e,t,r,o,n){if(u(t)&&u(r)){ve(e,t,r,o,n);return}if(u(t)&&!u(r)||!u(t)&&u(r)||Ce(t,r)){K(e,r,n);return}!u(t)&&!u(r)&&xe(e,t,r,o,n);}function z(e,t,r,o=0){try{let n=k(e,o);if(!t&&r){be(e,r);return}if(t&&!r){Me(e,n);return}t&&r&&Le(e,t,r,o,n);}catch(n){T(n,typeof r=="object"&&r!==null?r:void 0,"patch");}}export{ee as Fragment,V as VDOMError,J as assert,W as camelToKebab,E as createDOMElement,m as createElement,P as createErrorPlaceholder,w as deepClone,v as flattenChildren,Y as generateId,k as getChildAt,_ as getConfig,x as getEventName,te as h,T as handleError,ie as html,G as isBrowser,C as isEventProp,y as isFunction,f as isNullOrBoolean,u as isPrimitive,q as isVNode,re as jsx,oe as jsxDEV,ne as jsxs,z as patch,I as removeProperty,ye as render,O as sanitizeHTML,Z as setConfig,$ as setProperty,U as shallowEqual,b as updateProps,S as validateVNode,N as warn,Q as withErrorHandling};//# sourceMappingURL=main.js.map
//# sourceMappingURL=main.js.map