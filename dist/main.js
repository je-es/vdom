function l(e){return e===false||e===null||e===void 0||e===true}function W(e){return !e||typeof e!="object"?false:"type"in e&&"props"in e&&"children"in e}function d(e){return typeof e=="string"||typeof e=="number"}function C(e){let t=[];for(let r of e)Array.isArray(r)?t.push(...C(r)):l(r)||t.push(r);return t}function _(e){let t=[/<script[\s\S]*?<\/script>/gi,/javascript:/gi,/on\w+\s*=/gi,/<iframe[\s\S]*?<\/iframe>/gi,/<object[\s\S]*?<\/object>/gi,/<embed[\s\S]*?>/gi],r=e;for(let o of t)r=r.replace(o,"");return r}function U(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function X(e,t){if(e===t)return  true;if(typeof e!=typeof t||typeof e!="object"||e===null||t===null)return  false;let r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return  false;for(let n of r)if(e[n]!==t[n])return  false;return  true}var Y=0;function G(e="vdom"){return `${e}-${++Y}-${Date.now()}`}function Z(){return typeof window<"u"&&typeof document<"u"}function P(e,t){return e.childNodes[t]}function N(e){return typeof e=="function"}function v(e){return e.startsWith("on")&&e.length>2}function x(e){return e.substring(2).toLowerCase()}function O(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(O);let t={};for(let r in e)e.hasOwnProperty(r)&&(t[r]=O(e[r]));return t}var u={devMode:process.env.NODE_ENV!=="production",sanitizeHTML:true,onError:void 0};function J(e){u={...u,...e};}function D(){return {...u}}var M=class extends Error{constructor(r,o,n){super(r);this.vnode=o;this.context=n;this.name="VDOMError";}};function T(e,t,r){let o=e instanceof M?e:new M(e.message,t,r);if(u.onError)try{u.onError(o,t);}catch(n){console.error("Error in custom error handler:",n),console.error("Original error:",o);}else console.error("VDOM Error:",o.message),u.devMode&&t&&(console.error("VNode:",t),r&&console.error("Context:",r));}function g(e,t){u.devMode&&(console.warn(`[VDOM Warning]: ${e}`),t&&console.warn("VNode:",t));}function Q(e,t){if(u.devMode&&!e)throw new M(`Assertion failed: ${t}`)}function S(e){let t=u.devMode?`[Render Error: ${e.message}]`:"[Render Error]";return document.createTextNode(t)}function w(e){return !e||typeof e!="object"?false:"type"in e&&"props"in e&&"children"in e?typeof e.type!="string"?(u.devMode&&g("Invalid VNode type: must be a string",e),false):Array.isArray(e.children)?true:(u.devMode&&g("Invalid VNode children: must be an array",e),false):(u.devMode&&g("Invalid VNode structure: missing required properties (type, props, children)",e),false)}function ee(e,t){return((...r)=>{try{return e(...r)}catch(o){return T(o,void 0,t),null}})}function h(e,t,...r){process.env.NODE_ENV!=="production"&&(!e||typeof e!="string")&&g(`Invalid element type: ${e}`);let o=C(r);if(e==="fragment")return {type:"fragment",props:{},children:o};let n=t?{...t}:{};return n.class&&!n.className&&(n.className=n.class,delete n.class),{type:e,props:n,children:o}}function te(...e){return h("fragment",null,...e)}var re=h,ne=h,oe=h,ie=h;var L={EVENT:"__EVENT_",VNODE:"__VNODE_",ARRAY:"__ARRAY_",VALUE:"__VALUE_"};function se(e,...t){let r={eventHandlers:new Map,vnodes:new Map,arrays:new Map,plainValues:new Map},o="";for(let s=0;s<e.length;s++){let a=e[s];if(o+=a,s<t.length){let i=t[s];if(l(i)){i===false&&ae(a)&&(o+="false");continue}let c=ce(i,s,r);o+=c;}}let n=fe(o,r);return j(n,r),n}function j(e,t){for(let[r,o]of Object.entries(e.props))if(r.startsWith("on")&&typeof o=="string"){if(t.eventHandlers.has(o)){e.props[r]=t.eventHandlers.get(o);continue}for(let[n,s]of t.eventHandlers)if(o.includes(n)){e.props[r]=s;break}}for(let r of e.children)r&&typeof r=="object"&&"type"in r&&j(r,t);}function ae(e){let t=e.lastIndexOf("="),r=e.lastIndexOf(">");return t>r}function ce(e,t,r){if(Array.isArray(e)){let n=`${L.ARRAY}${t}__`;return r.arrays.set(n,e),n}if(typeof e=="function"){let n=`${L.EVENT}${t}__`;return r.eventHandlers.set(n,e),n}if(e&&typeof e=="object"&&"type"in e){let n=`${L.VNODE}${t}__`;return r.vnodes.set(n,e),n}let o=`${L.VALUE}${t}__`;return r.plainValues.set(o,e),o}function fe(e,t){let r=D(),o=e.trim();if(r.sanitizeHTML){let i=[],c=0;o=o.replace(/\s+(on\w+)="(__EVENT_\d+__)"/g,(f,p,m)=>{let y=`data-vdom-event-${c}="${m}"`;return i.push({placeholder:y,original:f}),c++,` ${y}`}),o=o.replace(/\s+(on\w+)=(__EVENT_\d+__)/g,(f,p,m)=>{let y=`data-vdom-event-${c}="${m}"`;return i.push({placeholder:y,original:f}),c++,` ${y}`}),o=_(o);for(let{placeholder:f,original:p}of i)o=o.replace(f,p);}let n=document.createElement("template");n.innerHTML=o;let s=n.content.firstChild;if(!s)return h("div",{},"");let a=k(s,t);return typeof a=="string"?h("span",{},a):a}function k(e,t){if(e.nodeType===Node.TEXT_NODE)return le(e.textContent||"",t);if(e.nodeType!==Node.ELEMENT_NODE)return "";let r=e,o=de(r.attributes,t),n=ue(r.childNodes,t);return {type:r.tagName.toLowerCase(),props:o,children:n}}function le(e,t){for(let[o,n]of t.arrays)if(e.includes(o))return {type:"fragment",props:{},children:n.filter(s=>!l(s))};for(let[o,n]of t.vnodes)if(e.includes(o))return n;let r=e;for(let[o,n]of t.plainValues)r=r.replace(o,String(n));return r}function de(e,t){let r={};for(let o of Array.from(e)){let{name:n,value:s}=o;if(n.startsWith("on")){r[n]=s;continue}if(n==="class"){r.className=H(s,t.plainValues).trim();continue}if(n==="checked"||n==="disabled"||n==="selected"||n==="required"){let a=H(s,t.plainValues);if(a==="false")continue;a==="true"||a===""?r[n]=true:r[n]=a;continue}r[n]=H(s,t.plainValues);}return r}function ue(e,t){let r=[];for(let o of Array.from(e))if(o.nodeType===Node.TEXT_NODE){let n=o.textContent||"",s=false;for(let[i,c]of t.arrays)if(n.includes(i)){r.push(...c.filter(f=>!l(f))),s=true;break}if(s)continue;let a=[];for(let[i,c]of t.vnodes)n.includes(i)&&c&&typeof c=="object"&&"type"in c&&a.push(c);if(a.length>0){r.push(...a);continue}if(n.trim()){let i=H(n,t.plainValues);i.trim()&&r.push(i);}}else if(o.nodeType===Node.ELEMENT_NODE){let n=k(o,t);n&&r.push(n);}return r}function H(e,t){let r=e;for(let[o,n]of t)r=r.replace(o,String(n));return r}var I=new Set(["checked","selected","disabled","readOnly","required","autoFocus","multiple","hidden","autoplay","controls","loop","muted","open","reversed"]);function V(e,t,r){for(let o in t)o in r||F(e,o,t[o]);for(let[o,n]of Object.entries(r))t[o]!==n&&R(e,o,n,t[o]);}function R(e,t,r,o){if(!(t==="children"||t==="key")){if(v(t)){pe(e,t,r,o);return}if(t==="ref"&&N(r)){r(e);return}if(t==="className"||t==="class"){me(e,r);return}if(t==="style"){ye(e,r);return}if(t==="dangerouslySetInnerHTML"&&r?.__html){e.innerHTML=r.__html;return}if(I.has(t)){he(e,t,r);return}ge(e,t,r);}}function F(e,t,r){if(v(t)&&N(r)){let o=x(t);e.removeEventListener(o,r);return}if(t==="ref"&&N(r)){r(null);return}if(t==="className"||t==="class"){e.className="",e.removeAttribute("class");return}if(t==="style"){e.removeAttribute("style");return}if(I.has(t)){e.removeAttribute(t.toLowerCase());return}e.removeAttribute(t);}function pe(e,t,r,o){if(!N(r)){process.env.NODE_ENV!=="production"&&g(`Event handler ${t} is not a function`);return}let n=x(t);o&&N(o)&&e.removeEventListener(n,o),e.addEventListener(n,r);}function me(e,t){if(t==null||t===false){e.className="",e.removeAttribute("class");return}let r=String(t).trim();r?e.className=r:(e.className="",e.removeAttribute("class"));}function ye(e,t){if(t==null){e.removeAttribute("style");return}if(typeof t=="string"){e.setAttribute("style",t);return}if(typeof t=="object")for(let[r,o]of Object.entries(t))o==null?e.style[r]="":e.style[r]=o;}function he(e,t,r){let o=t.toLowerCase();if(r===false||r===null||r===void 0){e.removeAttribute(o);return}e.setAttribute(o,"");}function ge(e,t,r){if(r==null||r===false){e.removeAttribute(t);return}e.setAttribute(t,String(r));}function E(e){try{if(d(e))return document.createTextNode(String(e));if(!w(e))throw new Error("Invalid VNode structure");return e.type==="fragment"?Ee(e):Ne(e)}catch(t){return T(t,typeof e=="object"?e:void 0,"createDOMElement"),S(t)}}function Ee(e){let t=document.createDocumentFragment();for(let r of e.children){if(l(r))continue;let o=d(r)?document.createTextNode(String(r)):E(r);t.appendChild(o);}return t}function Ne(e){let t=document.createElement(e.type);V(t,{},e.props);for(let r of e.children){if(l(r))continue;let o=d(r)?document.createTextNode(String(r)):E(r);t.appendChild(o);}return t}function Te(e,t){try{t.innerHTML="";let r=E(e);t.appendChild(r);}catch(r){T(r,e,"render");}}function Me(e,t,r,o){if(l(r)){if(!l(t)){let s=e.childNodes[o];s&&e.removeChild(s);}return}let n=l(t)?null:t;q(e,n,r,o);}function B(e,t,r){let o=Math.max(t.length,r.length);for(let n=0;n<o;n++)Me(e,t[n],r[n],n);for(;e.childNodes.length>r.filter(n=>!l(n)).length;){let n=e.lastChild;n&&e.removeChild(n);}}function K(e,t,r){let o=new Map,n=[];for(let i=0;i<e.children.length;i++)n.push(e.children[i]);let s=0;for(let i of t){if(l(i)||d(i))continue;let c=i,f=n[s];if(!f)break;if(c.props.key!=null){let p=c.props.key;o.set(p,{vnode:c,element:f});}s++;}let a=[];for(let i=0;i<r.length;i++){let c=r[i];if(l(c))continue;if(d(c)){let m=document.createTextNode(String(c));a.push(m);continue}let f=c,p=f.props.key;if(p!=null&&o.has(p)){let{vnode:m,element:y}=o.get(p);V(y,m.props,f.props);let $=m.children||[],A=f.children||[];A.some(b=>b&&typeof b=="object"&&"props"in b&&b.props.key!=null)?K(y,$,A):B(y,$,A),a.push(y),o.delete(p);}else {let m=E(f);a.push(m);}}for(;e.firstChild;)e.removeChild(e.firstChild);for(let i=0;i<a.length;i++){let c=a[i];e.appendChild(c);}}function Ve(e,t,r){r.some(n=>n&&typeof n=="object"&&"props"in n&&n.props.key!=null)?K(e,t,r):B(e,t,r);}function be(e,t){let r=E(t);e.appendChild(r);}function Ce(e,t){t&&t.parentNode===e&&e.removeChild(t);}function ve(e,t,r,o,n){let s=String(t),a=String(r);if(s!==a)if(n?.nodeType===Node.TEXT_NODE)n.textContent=a;else {let i=document.createTextNode(a);n?e.replaceChild(i,n):e.appendChild(i);}}function z(e,t,r){let o=E(t);r?e.replaceChild(o,r):e.appendChild(o);}function xe(e,t){return e.type!==t.type||e.props.key!==t.props.key}function Le(e,t,r,o,n){let s,a=e.tagName.toLowerCase()===t.type&&e.tagName.toLowerCase()===r.type,i=n instanceof HTMLElement&&n.tagName.toLowerCase()!==t.type;if(a&&(!n||i))s=e;else if(n instanceof HTMLElement)s=n;else {z(e,r,n);return}V(s,t.props,r.props);let c=t.children||[],f=r.children||[];Ve(s,c,f);}function He(e,t,r,o,n){if(d(t)&&d(r)){ve(e,t,r,o,n);return}if(d(t)&&!d(r)||!d(t)&&d(r)||xe(t,r)){z(e,r,n);return}!d(t)&&!d(r)&&Le(e,t,r,o,n);}function q(e,t,r,o=0){try{let n=P(e,o);if(!t&&r){be(e,r);return}if(t&&!r){Ce(e,n);return}t&&r&&He(e,t,r,o,n);}catch(n){T(n,typeof r=="object"&&r!==null?r:void 0,"patch");}}export{te as Fragment,M as VDOMError,Q as assert,U as camelToKebab,E as createDOMElement,h as createElement,S as createErrorPlaceholder,O as deepClone,C as flattenChildren,G as generateId,P as getChildAt,D as getConfig,x as getEventName,re as h,T as handleError,se as html,Z as isBrowser,v as isEventProp,N as isFunction,l as isNullOrBoolean,d as isPrimitive,W as isVNode,ne as jsx,ie as jsxDEV,oe as jsxs,q as patch,F as removeProperty,Te as render,_ as sanitizeHTML,J as setConfig,R as setProperty,X as shallowEqual,V as updateProps,w as validateVNode,g as warn,ee as withErrorHandling};//# sourceMappingURL=main.js.map
//# sourceMappingURL=main.js.map